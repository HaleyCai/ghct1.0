<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="xmu.ghct.crm.mapper.QuestionMapper">

    <select id="getAllQuestion" resultMap="QuestionResult">
        select a.id,a.score,a.team_id,b.team_name
        from question a,team b,klass_seminar c
        where c.seminar_id=#{seminarId} and c.klass_id=#{klassId}
              and a.klass_seminar_id=c.id and b.id=a.team_id
    </select>

    <insert id="postQuestion"  parameterType="xmu.ghct.crm.VO.QuestionVO">
        insert into question (
            id,
            team_id,
            score,
        )
        values (
                   #{questionId},
                   #{teamId},
                   #{score}
               )
    </insert>

    <update id="updateQuestionScoreByQuestionId">
        update question
        set score=#{score}
        where id=#{quetionId}
    </update>

    <resultMap id="QuestionResult" type="xmu.ghct.crm.VO.QuestionVO">
        <id property="questionId" column="id"/>
        <result property="teamId" column="team_id"/>
        <result property="teamName" column="team_name"/>
        <result property="score" column="score"/>
    </resultMap>
    

</mapper>